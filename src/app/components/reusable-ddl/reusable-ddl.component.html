<div class="ddl">
  <div class="form-group">
    <div class="dropdown" [class.show]="dropdownOpen">
      <button
        class="btn btn-outline-secondary dropdown-toggle"
        type="button"
        (click)="toggleDropdown()"
        aria-expanded="dropdownOpen"
      >
        {{ displaySelectedVals() }}
      </button>
      <div class="dropdown-menu" [class.show]="dropdownOpen">
        <div class="input-group my-3">
          <input
            *ngIf="ddlconfigOptions.isSearchabl"
            type="text"
            class="form-control"
            placeholder="Search"
            [(ngModel)]="searchQuery"
            (input)="searchValues()"
          />
          <span
            *ngIf="ddlconfigOptions.isResettable"
            class="input-group-text text-success resetBtn"
            (click)="reset()"
            ><i class="bi bi-arrow-clockwise"></i
          ></span>
        </div>

        <div class="form-check my-2" *ngFor="let option of originalOptions">
          <input
            class="form-check-input"
            [type]="ddlconfigOptions.isMultiValued ? 'checkbox' : 'radio'"
            [value]="option[showKey] ? option[showKey] : option"
            [checked]="isSelected(option)"
            (change)="selectValues(option)"
            [id]="option[uniqueKey] ? option[uniqueKey] : option"
            [name]="ddlconfigOptions.isMultiValued ? 'multiple' : 'single'"
          />
          <label
            class="form-check-label"
            [for]="option[uniqueKey] ? option[uniqueKey] : option"
            >{{ option[showKey] ? option[showKey] : option }}</label
          >
        </div>
        <p class="text-success text-center" *ngIf="loading">Loading ...</p>
        <button
          *ngIf="ddlconfigOptions.isMultiValued"
          class="btn btn-success"
          (click)="selectAll()"
        >
          select all
        </button>
      </div>
    </div>
  </div>
</div>
